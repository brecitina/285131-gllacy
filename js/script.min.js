function closePopup(){popup.classList.contains("modal-content-show")&&(popup.classList.remove("modal-content-show"),popup.classList.remove("modal-error"),overlay.classList.remove("modal-overlay-show"))}var link=document.querySelector(".js-feedback"),popup=document.querySelector(".modal-content"),overlay=document.querySelector(".modal-overlay"),close=popup.querySelector(".modal-content-close"),form=popup.querySelector("form"),userName=popup.querySelector("#message-name"),userMail=popup.querySelector("#message-mail"),userMessage=popup.querySelector("#message-feedback"),storageName=localStorage.getItem("feedback-userName"),storageMail=localStorage.getItem("feedback-userMail");link.addEventListener("click",function(e){e.preventDefault(),overlay.classList.add("modal-overlay-show"),popup.classList.add("modal-content-show"),userName.focus(),storageName&&(userName.value=storageName,userMail.focus()),userMail&&(userMail.value=storageMail),storageName&&storageMail&&userMessage.focus()}),close.addEventListener("click",function(e){e.preventDefault(),closePopup()}),form.addEventListener("submit",function(e){userName.value&&userMail.value&&userMessage.value?(localStorage.setItem("feedback-userName",userName.value),localStorage.setItem("feedback-userMail",userMail.value)):(e.preventDefault(),popup.classList.remove("modal-error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&closePopup()}),overlay.addEventListener("click",function(){closePopup()});